# EMA-ATR 交易策略分析工具

一个专业的交易数据可视化分析平台，支持多种加密货币的EMA-ATR策略回测结果展示。

## 🌟 功能特色

### 📊 数据处理能力
- ✅ 支持16种主流加密货币（BTC, ETH, BNB, SOL, ADA, XRP, DOGE, LINK, NEAR, ATOM, THETA, UNI, AAVE, CRV, SUI, HYPE）
- ✅ 自动解析Pine策略生成的CSV交易数据
- ✅ 智能配对开平仓记录，计算盈亏统计
- ✅ 按年份分组，生成结构化JSON数据

### 📈 可视化分析
- ✅ 现代化响应式界面设计
- ✅ 棕色木地板质感背景，专业交易氛围
- ✅ 顶部统计卡片：总交易数、总盈亏、总胜率、该年交易数、该年盈亏、该年胜率
- ✅ 交互式交易记录柱状图（盈利绿色，亏损红色）
- ✅ 详细交易记录表格，支持年份筛选
- ✅ 币种切换功能，一键查看不同币种表现

### 🔧 技术特点
- ✅ 纯前端实现，无需数据库
- ✅ 支持本地部署和云端部署
- ✅ 高性能数据处理和图表渲染
- ✅ 移动端友好设计

## 🚀 快速开始

### 本地运行

```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 访问 http://localhost:8080
```

### 数据转换

```bash
# 批量转换所有CSV文件
npm run convert

# 转换单个文件
npm run convert:single origin-data/btc.csv converted-data/btc-trades.json
```

### 部署到云端

#### Vercel 部署

1. Fork 本仓库到您的 GitHub
2. 登录 [Vercel](https://vercel.com)
3. 点击 "New Project" 并导入您的仓库
4. 设置框架为 "Other"
5. 构建命令留空，输出目录留空
6. 点击 "Deploy"

#### 其他平台

本项目为纯静态项目，支持部署到任何支持静态托管的平台：
- GitHub Pages
- Netlify
- 阿里云 OSS
- 腾讯云 COS

## 📁 项目结构

```
ema-atr-trade-result/
├── origin-data/          # 原始CSV交易数据
├── converted-data/       # 转换后的JSON数据
├── convert-trading-data.js  # 数据转换脚本
├── batch-convert.js    # 批量转换工具
├── trading-analyzer.html # 前端分析页面
├── server.js          # HTTP服务器
├── vercel.json        # Vercel部署配置
└── package.json       # 项目配置
```

## 📊 支持的币种

| 币种 | 交易数 | 总盈亏(USDT) | 总收益率 | 胜率 |
|------|--------|--------------|----------|------|
| BTC | 272 | 60,958 | 609.58% | 32.72% |
| ETH | 259 | 82,779 | 827.79% | 36.29% |
| BNB | 273 | 124,874 | 1,248.74% | 32.60% |
| SOL | 174 | 115,574 | 1,155.74% | 34.48% |
| DOGE | 190 | 135,220 | 1,352.20% | 36.32% |
| ADA | 244 | 96,205 | 962.05% | 34.84% |
| XRP | 261 | 49,937 | 499.37% | 29.12% |
| LINK | 244 | 74,754 | 747.54% | 33.20% |
| NEAR | 181 | 59,476 | 594.76% | 34.81% |
| ATOM | 250 | 14,152 | 141.52% | 26.40% |
| THETA | 247 | 64,028 | 640.28% | 27.13% |
| UNI | 190 | 31,322 | 313.22% | 32.63% |
| AAVE | 196 | 51,858 | 518.58% | 32.14% |
| CRV | 195 | 51,664 | 516.64% | 31.79% |
| SUI | 84 | 17,574 | 175.74% | 34.52% |
| HYPE | 31 | 10,766 | 107.66% | 35.48% |

## 🎯 使用指南

### 1. 数据上传
将您的交易数据CSV文件放入 `origin-data/` 目录，文件命名格式为 `<币种>.csv`。

### 2. 数据转换
运行批量转换命令，系统会自动处理所有CSV文件并生成对应的JSON数据。

### 3. 数据分析
打开前端页面，选择币种和年份，即可查看：
- 总体交易统计
- 年度交易表现
- 交易记录柱状图
- 详细交易列表

### 4. 结果导出
所有分析结果都保存在浏览器中，支持截图分享或手动记录关键数据。

## 🔍 技术指标说明

### EMA-ATR策略
- **EMA周期**: 120
- **ATR周期**: 14
- **ATR倍数**: 1.5
- **做空止盈ATR倍数**: 5.0

### 统计指标
- **胜率**: 盈利交易数 / 总交易数 × 100%
- **收益率**: 总盈亏 / 初始资金 × 100%
- **盈亏比**: 平均盈利 / 平均亏损

## 🛠️ 开发指南

### 前端定制
编辑 `trading-analyzer.html` 文件，可以：
- 修改颜色主题
- 调整图表样式
- 添加新的统计指标
- 优化移动端显示

### 数据格式扩展
修改 `convert-trading-data.js` 可以：
- 支持新的CSV格式
- 添加新的统计维度
- 自定义数据分组方式

## 📈 性能优化

- 使用 Chart.js 进行高效图表渲染
- 数据懒加载，提升页面响应速度
- 响应式设计，适配各种屏幕尺寸
- 纯前端实现，无需后端依赖

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request 来改进项目：

1. Fork 项目
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 打开 Pull Request

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## ⚠️ 免责声明

本工具仅供学习和研究使用，不构成投资建议。加密货币交易存在高风险，请谨慎投资。

---

**Star ⭐ 本项目如果对您有帮助！**